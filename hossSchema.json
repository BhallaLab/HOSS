{
	"type": "object",
	"properties": {
		"FileType": {"enum": ["Hoss", "HOSS", "hoss"]},
		"Version": {"pattern": "[2-9].*"},
		"author": {"type": "string"},
		"model": {"type": "string"},
		"map": {"pattern": "^.+\\.(json|JSON)$" },
		"exptDir": {"type": "string"},
		"outputDir": {"type": "string"},
		"scoreFunc": {"type": "string"},
		"tolerance": {"type": "number", "minimum": 1e-7},
		"algorithm": {"type": "string"},
		"comment": { "type": "string" },
		"hossMethod": { "type": "object",
			"properties": {
				"type": {"enum": ["hoss", "flat", "initScram", "hossMC"] }
			},
			"if": {
				"type": "object",
				"properties": {
					"type": {"const": "initScram"}
				},
				"required": ["type"]
			},
			"then": {
				"properties": {
					"numInitSamples": {"type": "number"},
					"scrambleRange": {"type": "number"}
				},
				"required": ["numInitSamples", "scrambleRange"]
			},
			"if": {
				"type": "object",
				"properties": {
					"type": {"const": "hossMC"}
				},
				"required": ["type"]
			},
			"then": {
				"properties": {
					"numInitSamples": {"type": "number"},
					"scrambleRange": {"type": "number"},
					"numTopSolutions": {"type": "number" },
					"numNextLevel": { "type": "number" }
				},
				"required": ["numInitSamples", "scrambleRange",
					"numTopSolutions", "numNextLevel"]
			},
			"unevaluatedProperties": false
		},
		"HOSS" : {"type": "array",
			"items": {"type": "object",
				"properties": {
					"name": {"type": "string" },
					"hierarchyLevel": {"type": "number" },
					"comment": { "type": "string" }
				},
				"required": ["hierarchyLevel"],
				"additionalProperties": {"type": "object",
					"properties": {
						"comment": { "type": "string" },
						"resultFile": { "type": "string" },
						"optModelFile": { "type": "string" },
						"optParamFile": { "type": "string" },
						"scoreFunc": { "type": "string" },
						"tolerance": { "type": "number" },
						"algorithm": { "type": "string" },
						"expt": {"type": "object",
							"additionalProperties": { "type": "object",
								"properties": {
									"scoreFunc": {"type": "string" },
									"weight": {"type": "number" },
									"comment": {"type": "string" }
								},
								"required": ["weight"],
								"additionalProperties": false
							}
						},
						"params": { "type" : "array",
								"items": { "type": "string" }
						},
						"paramBounds": { "type" : "object",
							"additionalProperties": { "type": "array",
								"prefixItems": [
									{"type": "number"},
									{"type": "number"},
									{"enum": [0, 1]}
								]
							}
						}
					},
					"required": ["expt", "params"],
					"additionalProperties": false
				}
			}
		}
	},
	"required": ["FileType", "Version", "model", "map", "HOSS", "scoreFunc", "tolerance", "algorithm", "hossMethod"],
	"additionalProperties": false

}
